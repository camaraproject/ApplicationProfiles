# Application profiles API User Story

| **Item** | **Details** |
| ---- | ------- |
| ***Summary*** | As an application developer, I need to share key details about my application that are relevant for network-related decisions across various CAMARA APIs. Specifically, I need to define, store, and manage my application's network quality thresholds (latency, jitter, packet loss, and throughput) that represent my application's networking demands. These thresholds will serve as a baseline for determining whether the network can provide adequate performance for my application's users  |
| ***Roles, Actors and Scope*** | **Roles:** API Consumer:Developer<br> **Actors:** Application service providers, hyperscalers, application developers. Currently the API does not explicitly handle consent management (expects that the API consumer either owns the device subscriptions or has agreed to manage consent as a part of general Terms and Conditions) and hence end users are not included as Actors. As this changes, the actor list will be extended with end users. <br> **Scope:** <ul><li>Create and manage application profiles</li><li>Perform network quality check againt the application profile for specific user sessions</li><li>Create subscriptions to recieve notifications if the network is not able to meet the application's requirements </li></ul> |
| ***Pre-conditions*** |The preconditions are listed below:<br><ol><li>The API Consumer:BusinessManager and API Consumer:Administrator have been onboarded to the API Exposure Platfrom.</li><li>The API Consumer:BusinessManager has successfully subscribed to the Connectivity Insights product from the product catalog.</li><li>The API Consumer:Administrator has onboarded the developer:User to the platform.</li><li>The API Consumer either owns the device subscriptions or has agreed to the terms and conditions of the CSP for managing consent of subscription owners.</li><li>The means to get the access token are known to the API Consumer:User to ensure secure access of the API.|
| ***Activities/Steps*** | **Starts when:** <br>1. The API consumer makes a POST request to /application-profiles with network quality thresholds including packetDelayBudget, targetMinDownstreamRate, targetMinUpstreamRate, packetlossErrorRate, and jitter.<br><br>**Additional Operatios:** <br>2. The API consumer can make a GET request to /application-profiles/{applicationProfileId} to retrieve an existing profile.<br>3. The API consumer can make a PATCH request to /application-profiles/{applicationProfileId} to update network quality thresholds for an existing profile.<br>4. The API consumer can make a DELETE request to /application-profiles/{applicationProfileId} to remove a profile that is no longer needed.<br><br> **Ends when:** <br>The application profile is either successfully created, updated, retrieved, or deleted based on the API consumer's request. |
| ***Post-conditions*** | 1. For POST: A new application profile is created with a unique applicationProfileId and the specified network quality thresholds.<br>2. For GET: The details of the requested application profile are returned to the API consumer.<br>3. For PATCH: The application profile is updated with the new network quality thresholds.<br>4. For DELETE: The application profile is removed from the system.|
| ***Exceptions*** | Several exceptions might occur <br>- Bad Request: Invalid argument or out-of-range values for network quality thresholds.<br>- Unauthorized: Invalid, missing, or expired access token.<br>- Forbidden: Insufficient permissions or invalid token context.<br>- Not Found: Requested application profile does not exist.<br>- Too Many Requests: Rate limit or quota exceeded.|
